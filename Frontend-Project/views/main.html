<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="fr">
 <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CampusID</title>
    <meta name="description" content="Grande école du numérique">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="../images/favicon.ico">
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/themify-icons.css">
    <link rel="stylesheet" href="../css/flag-icon.min.css">
    <link rel="stylesheet" href="../css/cs-skin-elastic.css">
    <link rel="stylesheet" href="../scss/style.css">
    <link rel="stylesheet" href="../css/style.css">
    <link href="../css/lib/vector-map/jqvmap.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
    <script src="../js/vendor/jquery-2.1.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
    <script src="../js/plugins.js"></script>
    <script src="../js/main.js"></script>

    <script src="../js/lib/vector-map/jquery.vmap.js"></script>
    <script src="../js/lib/vector-map/jquery.vmap.min.js"></script>
    <script src="../js/lib/vector-map/jquery.vmap.sampledata.js"></script>
    <script src="../js/lib/vector-map/country/jquery.vmap.world.js"></script>
    <script src="http://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>
    <script src="../js/angularjs/angular.js"></script>

    <script src="../js/modules/app.module.js"></script>
    <script src="../js/controllers/Trombinoscope.controller.js"></script>
    <script src="../js/controllers/StudentReport.controller.js"></script>

    <script>

        $(window).ready(function () {

            function go_to(id_div = 'index', page_title = 'CampusID', breadcrumb = null) {
                let step1 = '';
                let step2 = '';

                if (breadcrumb) {
                    if (breadcrumb.step1 !== undefined) {
                        step1 = breadcrumb.step1;
                    }
                    if (breadcrumb.step2 !== undefined) {
                        step2 = breadcrumb.step2;
                    }
                }
                else {
                    step1 = 'Bienvenu sur l\'IDBoard';
                }

                $('#fst_step').text(step1);
                $('#snd_step').text(step2);

                $('.right-panel .content').css('display', 'none');
                $('#' + id_div).css('display', 'block');
                $('title').text(page_title);
            }

            go_to();

            $('.menu-link').click(function () {
                go_to(
                    $(this).attr('data-id'),
                    $(this).attr('data-page-title'),
                    {
                        step1: $(this).attr('data-breadcrumb-step1'),
                        step2: $(this).attr('data-breadcrumb-step2')
                    }
                );
            });

        });

    </script>
</head>
 <body ng-app="IDBoard" style="overflow-x: hidden;">

    <!-- Left Panel -->
    <aside id="left-panel" class="left-panel">
        <nav class="navbar navbar-expand-sm navbar-default">
            <div class="navbar-header">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#"><img src="../images/logo.png" alt="Logo"></a>
                <a class="navbar-brand hidden" href="#"><img src="../images/logo2.png" alt="Logo"></a>
            </div>
            <div id="main-menu" class="main-menu collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href="#" data-id="index" data-breadcrumb-step1="Bienvenu sur l'IDBoard"
                           data-breadcrumb-step2="" data-page-title="CampusID" class="menu-link"> <i
                                class="menu-icon fa fa-home"></i>Accueil</a>
                    </li>
                    <h3 class="menu-title"></h3><!-- /.menu-title -->
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-laptop"></i>Actualitées</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="fa fa-envelope"></i><a href="#">Messages</a></li>
                            <li><i class="fa fa-bullhorn"></i><a href="#">Evènement</a></li>
                        </ul>
                    </li>
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-building"></i>Administration</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="fa fa-clipboard"></i><a href="#">Conventions</a></li>
                            <li><i class="fa fa-certificate"></i><a href="#">Certificats</a></li>
                        </ul>
                    </li>
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-th"></i>Vie étudiante</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="menu-icon fa fa-th"></i><a href="#">Offre de stages</a></li>
                            <li><i class="menu-icon fa fa-table"></i><a href="#">Planning</a></li>
                            <li><i class="menu-icon fa fa-graduation-cap"></i><a href="#" class="menu-link"
                                                                                 data-id="student_report"
                                                                                 data-breadcrumb-step1="Vie Étudiante"
                                                                                 data-breadcrumb-step2="Relevé de notes"
                                                                                 data-page-title="Relevé de notes">Notes</a>
                            </li>
                            <li><i class="menu-icon fa fa-camera-retro"></i><a href="#" class="menu-link"
                                                                               data-id="trombinoscope"
                                                                               data-breadcrumb-step1="Vie Étudiante"
                                                                               data-breadcrumb-step2="Trombinoscope"
                                                                               data-page-title="Détail de la classe">Trombinoscope</a>
                            </li>
                        </ul>
                    </li>

                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-link"></i>Liens externes</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="menu-icon fa fa-folder-open"></i><a href="#">Repository IEIDoc</a></li>
                            <li><i class="menu-icon fa fa-book"></i><a href="#">Bibliothèque</a></li>
                            <li><i class="menu-icon fa fa-windows"></i><a href="#">Microsoft(MSDNAA)</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </nav>
    </aside><!-- /#left-panel -->
    <!-- Left Panel -->
    <!-- Right Panel -->
    <div id="right-panel" class="right-panel">
        <!-- Header-->
        <header id="header" class="header">
            <div class="header-menu">
                <div class="col-sm-7">
                    <a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-bars"></i></a>
                    <div class="header-left">
                        <button class="search-trigger"><i class="fa fa-search"></i></button>
                        <div class="form-inline">
                            <form class="search-form">
                                <input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
                                <button class="search-close" type="submit"><i class="fa fa-close"></i></button>
                            </form>
                        </div>
                        <div class="dropdown for-notification">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="notification" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa fa-bell"></i>
                                <span class="count bg-danger">5</span>
                            </button>
                            <div class="dropdown-menu" aria-labelledby="notification">
                                <p class="red">You have 3 Notification</p>
                                <a class="dropdown-item media bg-flat-color-1" href="#">
                                    <i class="fa fa-check"></i>
                                    <p>Server #1 overloaded.</p>
                                </a>
                                <a class="dropdown-item media bg-flat-color-4" href="#">
                                    <i class="fa fa-info"></i>
                                    <p>Server #2 overloaded.</p>
                                </a>
                                <a class="dropdown-item media bg-flat-color-5" href="#">
                                    <i class="fa fa-warning"></i>
                                    <p>Server #3 overloaded.</p>
                                </a>
                            </div>
                        </div>
                        <div class="dropdown for-message">
                            <button class="btn btn-secondary dropdown-toggle" type="button"
                                    id="message"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="ti-email"></i>
                                <span class="count bg-primary">9</span>
                            </button>
                            <div class="dropdown-menu" aria-labelledby="message">
                                <p class="red">You have 4 Mails</p>
                                <a class="dropdown-item media bg-flat-color-1" href="#">
                                    <span class="photo media-left"><img alt="avatar" src="../images/avatar/1.jpg"></span>
                                    <span class="message media-body">
                                        <span class="name float-left">Jonathan Smith</span>
                                        <span class="time float-right">Just now</span>
                                        <p>Hello, this is an example msg</p>
                                    </span>
                                </a>
                                <a class="dropdown-item media bg-flat-color-4" href="#">
                                    <span class="photo media-left"><img alt="avatar" src="../images/avatar/2.jpg"></span>
                                    <span class="message media-body">
                                        <span class="name float-left">Jack Sanders</span>
                                        <span class="time float-right">5 minutes ago</span>
                                        <p>Lorem ipsum dolor sit amet, consectetur</p>
                                    </span>
                                </a>
                                <a class="dropdown-item media bg-flat-color-5" href="#">
                                    <span class="photo media-left"><img alt="avatar" src="../images/avatar/3.jpg"></span>
                                    <span class="message media-body">
                                        <span class="name float-left">Cheryl Wheeler</span>
                                        <span class="time float-right">10 minutes ago</span>
                                        <p>Hello, this is an example msg</p>
                                    </span>
                                </a>
                                <a class="dropdown-item media bg-flat-color-3" href="#">
                                    <span class="photo media-left"><img alt="avatar" src="../images/avatar/4.jpg"></span>
                                    <span class="message media-body">
                                        <span class="name float-left">Rachel Santos</span>
                                        <span class="time float-right">15 minutes ago</span>
                                        <p>Lorem ipsum dolor sit amet, consectetur</p>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="user-area dropdown float-right">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="user-avatar rounded-circle" src="../images/admin.jpg" alt="User Avatar">
                        </a>
                        <div class="user-menu dropdown-menu">
                            <a class="nav-link" href="#"><i class="fa fa- user"></i>Mon Profil</a>
                            <a class="nav-link" href="#"><i class="fa fa- user"></i>Notifications <span class="count">13</span></a>
                            <a class="nav-link" href="#"><i class="fa fa -cog"></i>Paramètres</a>
                            <a class="nav-link" href="#"><i class="fa fa-power -off"></i>Déconnexion</a>
                        </div>
                    </div>
                    <div class="language-select dropdown" id="language-select">
                        <a class="dropdown-toggle" href="#" data-toggle="dropdown" id="language" aria-haspopup="true" aria-expanded="true">
                            <i class="flag-icon flag-icon-fr"></i>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="language">
                            <div class="dropdown-item">
                                <span class="flag-icon flag-icon-us"></span>
                            </div>
                            <div class="dropdown-item">
                                <i class="flag-icon flag-icon-es"></i>
                            </div>
                            <div class="dropdown-item">
                                <i class="flag-icon flag-icon-it"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header><!-- /header -->
        <!-- Header-->
        <div class="breadcrumbs">
            <div class="col-sm-4">
                <div class="page-header float-left">
                    <div class="page-title">
                        <h1 id="fst_step">Bienvenue sur l'IDBoard </h1>
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
                <div class="page-header float-left">
                    <div class="page-title">
                        <h1 id="snd_step"></h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="content mt-3" id="index">
            <h3>Accueil</h3>
        </div>
        <div class="content mt-3" id="trombinoscope" ng-load="{{onload()}}"
             ng-controller="Trombinoscope">

            <input type="hidden" ng-model="id_classe" value="{{id_classe}}"/>

            <div class="row">
                <div class="col-sm-12 font-weight-bold text-center classname">
                    {{nbr_etudiants}} étudiants dans la classe : {{class_name}}
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4" ng-repeat="etudiant in etudiants">

                    <div ng-if="etudiant.active == true">

                        <div class="row">
                            <div class="col-12 profilimage img-thumbnail" id="eleve_{{etudiant.id}}">
                                <center>
                                    <img src="http://192.168.0.171/{{etudiant.picture}}" class="img-fluid rounded"
                                         style="width: 50%;"/>
                                </center>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-sm-12" style="padding-left: 25px;">
                                        {{etudiant.id}}
                                    </div>
                                    <div class="col-sm-12" style="padding-left: 25px;">
                                        {{etudiant.firstname + ' ' + etudiant.name}}
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>

        </div>
        <div class="content mt-3" id="student_report" ng-load="{{onload()}}"
             ng-controller="StudentReport">
            <div class="row">

                <div class="col-12">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header text-center">
                                <table style="width: 200px;">
                                    <tr>
                                        <th>
                                            <label for="modules_filers">
                                                Affichage des modules :
                                            </label>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th>
                                            <select id="modules_filers">
                                                <option value="successed">
                                                    Réussis
                                                </option>
                                                <option value="failed">
                                                    Échoués
                                                </option>
                                                <option value="currents">
                                                    En Cours
                                                </option>
                                            </select>
                                        </th>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-1"></div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Total des crédits ECTS :
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.credits.total}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Matières validées :
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.matieres.successed}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-1"></div>

                <div class="col-1"></div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Crédits ECTS déja validés :
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.credits.valided}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Matières échoués :
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.matieres.failed}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-1"></div>

                <div class="col-1"></div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Crédits ECTS manquants:
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.credits.missing}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-5 head">
                    <div class="row">
                        <div class="col-12 card">
                            <div class="row card-header">
                                <table class="col-12">
                                    <tr>
                                        <th class="text-left">
                                            Matières en cours de validation :
                                        </th>
                                        <td class="text-right">
                                            <div class="circle">
                                                {{head_modules.matieres.currents}}
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-1"></div>

                <div class="col-12 accordion" id="modules" role="tablist" aria-multiselectable="true">
                    <div class="row" ng-repeat="module in list_modules">
                        <div class="col-12 module card">
                            <div class="row card-header">
                                <div class="col-xs-1 col-md-2 check-module" ng-if="module.success == true">
                                    <i class="fa fa-check-circle ok"></i>
                                </div>
                                <div class="col-xs-1 col-md-2 check-module" ng-if="module.success == false">
                                    <i class="fa fa-times-circle fail"></i>
                                </div>
                                <div class="col-xs-1 col-md-2 check-module" ng-if="module.success == null">
                                    <i class="fa fa-question"></i>
                                </div>
                                <div class="col-xs-4 col-md-5" style="padding-top: 15px;">
                                    <b>{{module.module}}</b>
                                </div>
                                <div class="col-xs-3 col-md-3" style="padding-top: 15px;">
                                    <b>{{module.nb_credits}} ECTS</b>
                                </div>
                                <div class="col-xs-1 col-md-1" style="padding-top: 15px;">
                                    <b>{{module.nb_notes_valides + '/' + module.matieres.length}}</b>
                                </div>
                                <div class="col-xs-1">
                                    <div class="circle closed">
                                        <a href="#module{{module.id}}_detail"
                                           data-id="{{module.id}}"
                                           onclick="if($(this).hasClass('fa-angle-up')) {
                                                        $(this).removeClass('fa-angle-up').addClass('fa-angle-down');
                                                    }
                                                    else {
                                                        $(this).removeClass('fa-angle-down').addClass('fa-angle-up');
                                                    }"
                                           data-parent="#modules"
                                           data-toggle="collapse"
                                           aria-expanded="true"
                                           aria-controls="module{{module.id}}_detail"
                                           class="fa up fa-angle-up"></a>
                                    </div>
                                </div>
                            </div>
                            <div class="row closed collapse hide" id="module{{module.id}}_detail">
                                <div class="col-12">
                                    <table class="table table-sm table-responsive-sm"
                                           style="width: 100%; overflow-x: auto">
                                        <thead>
                                        <tr>
                                            <th class="text-center">Type d'évaluation</th>
                                            <th class="text-center">Date</th>
                                            <th class="text-center">Note</th>
                                            <th class="text-center">Coefficient</th>
                                            <th class="text-center">Moyenne de la classe</th>
                                            <th class="text-center">Commentaire</th>
                                        </tr>
                                        </thead>
                                        <tbody ng-repeat="detail in module.matieres">
                                        <tr scope="row">
                                            <th colspan="6" class="course-title">{{detail.name}}</th>
                                        </tr>
                                        <tr scope="row" ng-if="detail.note != null" class="evaluated">
                                            <td class="font-weight-bold text-center">{{detail.type + ' n°' +
                                                detail.id}}
                                            </td>
                                            <td class="font-weight-bold text-center">{{detail.date}}</td>
                                            <td class="font-weight-bold text-center">{{detail.note}}</td>
                                            <td class="font-weight-bold text-center">{{detail.coefficient}}</td>
                                            <td class="font-weight-bold text-center">{{detail.moyenne}}</td>
                                            <td class="font-weight-bold text-center"
                                                ng-if="detail.commentaire != null && detail.commentaire != ''">
                                                {{detail.commentaire}}
                                            </td>
                                            <td class="font-weight-bold text-center"
                                                ng-if="detail.commentaire == null || detail.commentaire == ''">Aucun
                                                commentaire
                                            </td>
                                        </tr>
                                        <tr ng-if="detail.note == null">
                                            <td colspan="6" class="text-center dont-evaluated">Pas de note</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- .content -->
    <!-- Right Panel -->
     <div data-block="content"></div>
</body>
</html>
